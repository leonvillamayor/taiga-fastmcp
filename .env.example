# =============================================================================
# Taiga MCP Server - Environment Configuration
# =============================================================================
# Copy this file to .env and configure your credentials
#
# Usage with Docker:
#   docker compose up              # Default service
#   docker compose --profile dev up   # Development (debug enabled)
#   docker compose --profile prod up  # Production (optimized)
#
# Usage without Docker:
#   uv run python -m src.server
# =============================================================================

# -----------------------------------------------------------------------------
# Taiga API Configuration (REQUIRED)
# -----------------------------------------------------------------------------

# Base URL for Taiga API
TAIGA_API_URL=https://api.taiga.io/api/v1

# Authentication Option 1: Username and Password
TAIGA_USERNAME=your_username@example.com
TAIGA_PASSWORD=your_password

# Authentication Option 2: Pre-configured Auth Token (alternative to username/password)
# TAIGA_AUTH_TOKEN=your_auth_token_here

# -----------------------------------------------------------------------------
# MCP Server Configuration
# -----------------------------------------------------------------------------

# Server name displayed in MCP clients
MCP_SERVER_NAME=Taiga MCP Server

# Transport protocol: stdio (for CLI) or http (for Docker/network)
# Note: Docker always uses http regardless of this setting
MCP_TRANSPORT=stdio

# Host and port for HTTP transport
MCP_HOST=127.0.0.1
MCP_PORT=8000

# Enable debug mode (verbose logging)
MCP_DEBUG=false

# -----------------------------------------------------------------------------
# Request Configuration
# -----------------------------------------------------------------------------

# Timeout in seconds for API requests
TAIGA_TIMEOUT=30

# Maximum number of retries for failed requests
TAIGA_MAX_RETRIES=3

# -----------------------------------------------------------------------------
# Cache Configuration (v0.1.1)
# -----------------------------------------------------------------------------

# Enable/disable response caching (improves performance for repeated API calls)
TAIGA_CACHE_ENABLED=true

# Cache time-to-live in seconds (default: 3600 = 1 hour)
# Production recommendation: 7200 (2 hours)
# Development recommendation: 300 (5 minutes)
TAIGA_CACHE_TTL=3600

# Maximum number of cached entries
# Production recommendation: 5000
# Development recommendation: 100
TAIGA_CACHE_MAX_SIZE=1000

# -----------------------------------------------------------------------------
# Middleware Configuration (v0.3.0)
# -----------------------------------------------------------------------------

# Enable/disable middleware stack (rate limiting, error handling, timing, logging)
# Set to false to disable all middleware for debugging or testing
TAIGA_ENABLE_MIDDLEWARE=true

# Rate limit: maximum requests per second to Taiga API
# Production recommendation: 50-100 (balance between performance and API protection)
# Development recommendation: 200+ (faster iteration)
TAIGA_RATE_LIMIT_RPS=50

# Environment name (affects error detail masking)
# production: Masks error details in responses for security
# development: Shows full error details for debugging
TAIGA_ENV=production
